import{r,a as oe,b as se}from"./index-DF-VfARk.js";import{b as k,a as te,l as le,D as ne,c as G,R as ue,d as ce,N as D,s as P,e as fe,f as K,g as Y,h as de,i as me,j as W,k as he,m as pe,n as we,o as Q}from"./index-DkUROBfk.js";/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A(){return A=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},A.apply(this,arguments)}function J(e,a){if(e==null)return{};var t={},i=Object.keys(e),n,o;for(o=0;o<i.length;o++)n=i[o],!(a.indexOf(n)>=0)&&(t[n]=e[n]);return t}const V="get",B="application/x-www-form-urlencoded";function j(e){return e!=null&&typeof e.tagName=="string"}function Se(e){return j(e)&&e.tagName.toLowerCase()==="button"}function ve(e){return j(e)&&e.tagName.toLowerCase()==="form"}function ge(e){return j(e)&&e.tagName.toLowerCase()==="input"}function ye(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Re(e,a){return e.button===0&&(!a||a==="_self")&&!ye(e)}function z(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((a,t)=>{let i=e[t];return a.concat(Array.isArray(i)?i.map(n=>[t,n]):[[t,i]])},[]))}function be(e,a){let t=z(e);return a&&a.forEach((i,n)=>{t.has(n)||a.getAll(n).forEach(o=>{t.append(n,o)})}),t}let O=null;function Te(){if(O===null)try{new FormData(document.createElement("form"),0),O=!1}catch{O=!0}return O}const Le=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function H(e){return e!=null&&!Le.has(e)?null:e}function Ee(e,a){let t,i,n,o,s;if(ve(e)){let l=e.getAttribute("action");i=l?P(l,a):null,t=e.getAttribute("method")||V,n=H(e.getAttribute("enctype"))||B,o=new FormData(e)}else if(Se(e)||ge(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||l.getAttribute("action");if(i=f?P(f,a):null,t=e.getAttribute("formmethod")||l.getAttribute("method")||V,n=H(e.getAttribute("formenctype"))||H(l.getAttribute("enctype"))||B,o=new FormData(l,e),!Te()){let{name:u,type:c,value:h}=e;if(c==="image"){let d=u?u+".":"";o.append(d+"x","0"),o.append(d+"y","0")}else u&&o.append(u,h)}}else{if(j(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=V,i=null,n=B,s=e}return o&&n==="text/plain"&&(s=o,o=void 0),{action:i,method:t.toLowerCase(),encType:n,formData:o,body:s}}const xe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ce=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Pe=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],Ae="6";try{window.__reactRouterVersion=Ae}catch{}const ae=r.createContext({isTransitioning:!1}),Fe=r.createContext(new Map),Ne="startTransition",Z=oe[Ne],Ue="flushSync",$=se[Ue];function ke(e){Z?Z(e):e()}function N(e){$?$(e):e()}class De{constructor(){this.status="pending",this.promise=new Promise((a,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",a(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}}function Qe(e){let{fallbackElement:a,router:t,future:i}=e,[n,o]=r.useState(t.state),[s,l]=r.useState(),[f,u]=r.useState({isTransitioning:!1}),[c,h]=r.useState(),[d,y]=r.useState(),[v,b]=r.useState(),R=r.useRef(new Map),{v7_startTransition:T}=i||{},m=r.useCallback(w=>{T?ke(w):w()},[T]),S=r.useCallback((w,L)=>{let{deletedFetchers:g,flushSync:_,viewTransitionOpts:x}=L;g.forEach(C=>R.current.delete(C)),w.fetchers.forEach((C,ie)=>{C.data!==void 0&&R.current.set(ie,C.data)});let re=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!x||re){_?N(()=>o(w)):m(()=>o(w));return}if(_){N(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation})});let C=t.window.document.startViewTransition(()=>{N(()=>o(w))});C.finished.finally(()=>{N(()=>{h(void 0),y(void 0),l(void 0),u({isTransitioning:!1})})}),N(()=>y(C));return}d?(c&&c.resolve(),d.skipTransition(),b({state:w,currentLocation:x.currentLocation,nextLocation:x.nextLocation})):(l(w),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}))},[t.window,d,c,R,m]);r.useLayoutEffect(()=>t.subscribe(S),[t,S]),r.useEffect(()=>{f.isTransitioning&&!f.flushSync&&h(new De)},[f]),r.useEffect(()=>{if(c&&s&&t.window){let w=s,L=c.promise,g=t.window.document.startViewTransition(async()=>{m(()=>o(w)),await L});g.finished.finally(()=>{h(void 0),y(void 0),l(void 0),u({isTransitioning:!1})}),y(g)}},[m,s,c,t.window]),r.useEffect(()=>{c&&s&&n.location.key===s.location.key&&c.resolve()},[c,d,n.location,s]),r.useEffect(()=>{!f.isTransitioning&&v&&(l(v.state),u({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),b(void 0))},[f.isTransitioning,v]),r.useEffect(()=>{},[]);let p=r.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:w=>t.navigate(w),push:(w,L,g)=>t.navigate(w,{state:L,preventScrollReset:g==null?void 0:g.preventScrollReset}),replace:(w,L,g)=>t.navigate(w,{replace:!0,state:L,preventScrollReset:g==null?void 0:g.preventScrollReset})}),[t]),E=t.basename||"/",F=r.useMemo(()=>({router:t,navigator:p,static:!1,basename:E}),[t,p,E]),I=r.useMemo(()=>({v7_relativeSplatPath:t.future.v7_relativeSplatPath}),[t.future.v7_relativeSplatPath]);return r.useEffect(()=>le(i,t.future),[i,t.future]),r.createElement(r.Fragment,null,r.createElement(ne.Provider,{value:F},r.createElement(G.Provider,{value:n},r.createElement(Fe.Provider,{value:R.current},r.createElement(ae.Provider,{value:f},r.createElement(ue,{basename:E,location:n.location,navigationType:n.historyAction,navigator:p,future:I},n.initialized||t.future.v7_partialHydration?r.createElement(Ie,{routes:t.routes,future:t.future,state:n}):a))))),null)}const Ie=r.memo(_e);function _e(e){let{routes:a,future:t,state:i}=e;return ce(a,void 0,i,t)}const Oe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Me=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ve=r.forwardRef(function(a,t){let{onClick:i,relative:n,reloadDocument:o,replace:s,state:l,target:f,to:u,preventScrollReset:c,viewTransition:h}=a,d=J(a,xe),{basename:y}=r.useContext(D),v,b=!1;if(typeof u=="string"&&Me.test(u)&&(v=u,Oe))try{let S=new URL(window.location.href),p=u.startsWith("//")?new URL(S.protocol+u):new URL(u),E=P(p.pathname,y);p.origin===S.origin&&E!=null?u=E+p.search+p.hash:b=!0}catch{}let R=fe(u,{relative:n}),T=We(u,{replace:s,state:l,target:f,preventScrollReset:c,relative:n,viewTransition:h});function m(S){i&&i(S),S.defaultPrevented||T(S)}return r.createElement("a",A({},d,{href:v||R,onClick:b||o?i:m,ref:t,target:f}))}),Ze=r.forwardRef(function(a,t){let{"aria-current":i="page",caseSensitive:n=!1,className:o="",end:s=!1,style:l,to:f,viewTransition:u,children:c}=a,h=J(a,Ce),d=K(f,{relative:h.relative}),y=k(),v=r.useContext(G),{navigator:b,basename:R}=r.useContext(D),T=v!=null&&Ge(d)&&u===!0,m=b.encodeLocation?b.encodeLocation(d).pathname:d.pathname,S=y.pathname,p=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(S=S.toLowerCase(),p=p?p.toLowerCase():null,m=m.toLowerCase()),p&&R&&(p=P(p,R)||p);const E=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let F=S===m||!s&&S.startsWith(m)&&S.charAt(E)==="/",I=p!=null&&(p===m||!s&&p.startsWith(m)&&p.charAt(m.length)==="/"),w={isActive:F,isPending:I,isTransitioning:T},L=F?i:void 0,g;typeof o=="function"?g=o(w):g=[o,F?"active":null,I?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let _=typeof l=="function"?l(w):l;return r.createElement(Ve,A({},h,{"aria-current":L,className:g,ref:t,style:_,to:f,viewTransition:u}),typeof c=="function"?c(w):c)}),$e=r.forwardRef((e,a)=>{let{fetcherKey:t,navigate:i,reloadDocument:n,replace:o,state:s,method:l=V,action:f,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:d}=e,y=J(e,Pe),v=Ye(),b=ze(f,{relative:c}),R=l.toLowerCase()==="get"?"get":"post",T=m=>{if(u&&u(m),m.defaultPrevented)return;m.preventDefault();let S=m.nativeEvent.submitter,p=(S==null?void 0:S.getAttribute("formmethod"))||l;v(S||m.currentTarget,{fetcherKey:t,method:p,navigate:i,replace:o,state:s,relative:c,preventScrollReset:h,viewTransition:d})};return r.createElement("form",A({ref:a,method:R,action:b,onSubmit:n?u:T},y))});var U;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(U||(U={}));var q;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(q||(q={}));function X(e){let a=r.useContext(ne);return a||W(!1),a}function Ke(e){let a=r.useContext(G);return a||W(!1),a}function We(e,a){let{target:t,replace:i,state:n,preventScrollReset:o,relative:s,viewTransition:l}=a===void 0?{}:a,f=te(),u=k(),c=K(e,{relative:s});return r.useCallback(h=>{if(Re(h,t)){h.preventDefault();let d=i!==void 0?i:Y(u)===Y(c);f(e,{replace:d,state:n,preventScrollReset:o,relative:s,viewTransition:l})}},[u,f,c,i,n,t,e,o,s,l])}function et(e){let a=r.useRef(z(e)),t=r.useRef(!1),i=k(),n=r.useMemo(()=>be(i.search,t.current?null:a.current),[i.search]),o=te(),s=r.useCallback((l,f)=>{const u=z(typeof l=="function"?l(n):l);t.current=!0,o("?"+u,f)},[o,n]);return[n,s]}function je(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let Be=0,He=()=>"__"+String(++Be)+"__";function Ye(){let{router:e}=X(U.UseSubmit),{basename:a}=r.useContext(D),t=de();return r.useCallback(function(i,n){n===void 0&&(n={}),je();let{action:o,method:s,encType:l,formData:f,body:u}=Ee(i,a);if(n.navigate===!1){let c=n.fetcherKey||He();e.fetch(c,t,n.action||o,{preventScrollReset:n.preventScrollReset,formData:f,body:u,formMethod:n.method||s,formEncType:n.encType||l,flushSync:n.flushSync})}else e.navigate(n.action||o,{preventScrollReset:n.preventScrollReset,formData:f,body:u,formMethod:n.method||s,formEncType:n.encType||l,replace:n.replace,state:n.state,fromRouteId:t,flushSync:n.flushSync,viewTransition:n.viewTransition})},[e,a,t])}function ze(e,a){let{relative:t}=a===void 0?{}:a,{basename:i}=r.useContext(D),n=r.useContext(me);n||W(!1);let[o]=n.matches.slice(-1),s=A({},K(e||".",{relative:t})),l=k();if(e==null){s.search=l.search;let f=new URLSearchParams(s.search),u=f.getAll("index");if(u.some(h=>h==="")){f.delete("index"),u.filter(d=>d).forEach(d=>f.append("index",d));let h=f.toString();s.search=h?"?"+h:""}}return(!e||e===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(s.pathname=s.pathname==="/"?i:he([i,s.pathname])),Y(s)}const ee="react-router-scroll-positions";let M={};function tt(e){let{getKey:a,storageKey:t}=e===void 0?{}:e,{router:i}=X(U.UseScrollRestoration),{restoreScrollPosition:n,preventScrollReset:o}=Ke(q.UseScrollRestoration),{basename:s}=r.useContext(D),l=k(),f=pe(),u=we();r.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),qe(r.useCallback(()=>{if(u.state==="idle"){let c=(a?a(l,f):null)||l.key;M[c]=window.scrollY}try{sessionStorage.setItem(t||ee,JSON.stringify(M))}catch{}window.history.scrollRestoration="auto"},[t,a,u.state,l,f])),typeof document<"u"&&(r.useLayoutEffect(()=>{try{let c=sessionStorage.getItem(t||ee);c&&(M=JSON.parse(c))}catch{}},[t]),r.useLayoutEffect(()=>{let c=a&&s!=="/"?(d,y)=>a(A({},d,{pathname:P(d.pathname,s)||d.pathname}),y):a,h=i==null?void 0:i.enableScrollRestoration(M,()=>window.scrollY,c);return()=>h&&h()},[i,s,a]),r.useLayoutEffect(()=>{if(n!==!1){if(typeof n=="number"){window.scrollTo(0,n);return}if(l.hash){let c=document.getElementById(decodeURIComponent(l.hash.slice(1)));if(c){c.scrollIntoView();return}}o!==!0&&window.scrollTo(0,0)}},[l,n,o]))}function qe(e,a){let{capture:t}={};r.useEffect(()=>{let i=t!=null?{capture:t}:void 0;return window.addEventListener("pagehide",e,i),()=>{window.removeEventListener("pagehide",e,i)}},[e,t])}function Ge(e,a){a===void 0&&(a={});let t=r.useContext(ae);t==null&&W(!1);let{basename:i}=X(U.useViewTransitionState),n=K(e,{relative:a.relative});if(!t.isTransitioning)return!1;let o=P(t.currentLocation.pathname,i)||t.currentLocation.pathname,s=P(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Q(n.pathname,s)!=null||Q(n.pathname,o)!=null}export{$e as F,Ve as L,Ze as N,Qe as R,tt as a,et as u};
