import{j as s}from"./index-DF-VfARk.js";import{A as x,T as g}from"./index-Pi5MhuwB.js";import{a as j,u as w}from"./index-DkUROBfk.js";import{F as r}from"./index-e6vNLNv5.js";import{F as e,B as t}from"./index-CZ386Uyv.js";import{A as y}from"./index-CAyEHKTB.js";import{A as f}from"./index-CfVmw3kd.js";import{I as n}from"./index-C3dcIk9B.js";import{s as P}from"./index-Cv3JBoSq.js";import"./collapse-BbEVqHco.js";import"./row-CN7xCyZB.js";import"./responsiveObserver-BnMIucoH.js";import"./ExclamationCircleFilled-DrSG7Lz4.js";import"./index-DkfDQLHp.js";import"./CloseOutlined-C3B3v_Kh.js";import"./pickAttrs-BTWl6K21.js";const{Text:o}=g;function L(){const a=j(),{token:d}=w(),[p]=r.useForm(),{mutateAsync:l,isLoading:c,isSuccess:i}=x.authentication.resetPassword.useMutation(),m=async u=>{try{await l({token:d,password:u.password})}catch(h){P.error(`Could not reset password: ${h.message}`)}};return s.jsx(s.Fragment,{children:s.jsx(e,{align:"center",justify:"center",vertical:!0,flex:1,children:s.jsxs(e,{vertical:!0,style:{width:"340px",paddingBottom:"100px",paddingTop:"100px"},gap:"middle",children:[s.jsx(y,{description:"Change your password"}),i&&s.jsx(f,{style:{textAlign:"center"},type:"success",message:"Your password has been changed."}),!i&&s.jsxs(r,{form:p,onFinish:m,layout:"vertical",requiredMark:!1,children:[s.jsx(r.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Password is required"}],children:s.jsx(n.Password,{type:"password",placeholder:"Your new password",autoComplete:"current-password"})}),s.jsx(r.Item,{label:"Password confirmation",name:"passwordConfirmation",rules:[{required:!0,message:"Password confirmation is required"}],children:s.jsx(n.Password,{type:"password",placeholder:"Password confirmation",autoComplete:"current-password"})}),s.jsx(r.Item,{children:s.jsx(t,{type:"primary",htmlType:"submit",loading:c,block:!0,children:"Reset Password"})})]}),s.jsxs(e,{justify:"center",align:"center",children:[s.jsx(t,{ghost:!0,style:{border:"none"},onClick:()=>a("/login"),children:s.jsx(e,{gap:"small",justify:"center",children:s.jsx(o,{children:"Sign in"})})}),s.jsx(o,{type:"secondary",children:"or"}),s.jsx(t,{ghost:!0,style:{border:"none"},onClick:()=>a("/register"),children:s.jsx(e,{gap:"small",justify:"center",children:s.jsx(o,{children:"Sign up"})})})]})]})})})}export{L as default};
