import{r as j,j as e}from"./index-DF-VfARk.js";import{A as y,T as f}from"./index-Pi5MhuwB.js";import{u as v}from"./index-DkUROBfk.js";import{P as o}from"./index-D_Jq7_Ot.js";import{S as w}from"./index-BKkJNJXg.js";import{E as u}from"./index-DXhDvoHf.js";import{B as a}from"./index-CZ386Uyv.js";import{R as C,C as R}from"./row-CN7xCyZB.js";import{C as x}from"./index-CSDeIJLm.js";import"./responsiveObserver-BnMIucoH.js";import"./Dropdown-BkR0riwv.js";import"./CloseOutlined-C3B3v_Kh.js";import"./EllipsisOutlined-CK11HSgJ.js";const{Title:A,Text:d}=f;function $(){var c,p;const{restaurantId:h}=v(),[s,m]=j.useState(null),{data:t,isLoading:g}=y.restaurant.findFirst.useQuery({where:{id:h},include:{menuItems:!0}}),l=(c=t==null?void 0:t.menuItems)==null?void 0:c.reduce((r,n)=>(n.category&&!r.includes(n.category)&&r.push(n.category),r),[]).sort(),i=s?(p=t==null?void 0:t.menuItems)==null?void 0:p.filter(r=>r.category===s):t==null?void 0:t.menuItems;return g?e.jsx(o,{layout:"full-width",children:e.jsx("div",{style:{textAlign:"center",padding:"50px"},children:e.jsx(w,{size:"large"})})}):t?e.jsx(o,{layout:"full-width",children:e.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"20px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:40},children:[t.logoUrl&&e.jsx("img",{src:t.logoUrl,alt:t.name||"Restaurant logo",style:{width:120,height:120,borderRadius:"50%",marginBottom:16}}),e.jsx(A,{level:2,children:t.name}),e.jsx(d,{children:t.description})]}),e.jsxs("div",{style:{marginBottom:24,textAlign:"center"},children:[e.jsx(a,{type:s===null?"primary":"default",onClick:()=>m(null),style:{margin:"0 8px 8px"},children:"All"}),l==null?void 0:l.map(r=>e.jsx(a,{type:s===r?"primary":"default",onClick:()=>m(r),style:{margin:"0 8px 8px"},children:r},r))]}),e.jsx(C,{gutter:[24,24],children:i==null?void 0:i.map(r=>e.jsx(R,{xs:24,sm:12,md:8,lg:6,children:e.jsx(x,{hoverable:!0,cover:r.imageUrl&&e.jsx("img",{alt:r.name,src:r.imageUrl,style:{height:200,objectFit:"cover"}}),actions:[r.arModelUrl&&e.jsxs(a,{type:"link",href:`/menu/${r.id}/preview`,children:[e.jsx("i",{className:"las la-cube"})," View in AR"]})].filter(Boolean),children:e.jsx(x.Meta,{title:r.name,description:e.jsxs("div",{children:[e.jsx(d,{children:r.description}),e.jsx("div",{style:{marginTop:8},children:e.jsxs(d,{strong:!0,children:["$",r.price]})})]})})})},r.id))}),(!i||i.length===0)&&e.jsx(u,{description:"No menu items found"})]})}):e.jsx(o,{layout:"full-width",children:e.jsx(u,{description:"Restaurant not found"})})}export{$ as default};
