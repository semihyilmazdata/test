import{r,c as Ut,R as xe,j as $}from"./index-DF-VfARk.js";import{K as X,f as Yt,h as Kt,A as Ct,T as Gt}from"./index-Pi5MhuwB.js";import{u as Vt}from"./index-DkUROBfk.js";import{C as yt}from"./index-CSDeIJLm.js";import{V as Dt,b as et,e as Fe,Y as Ce,_ as te,X as oe,a as Zt,M as Ve,O as De,Z as Qt,ag as Jt,ah as St,k as en,N as We,g as tn,m as nn,r as rn,h as ce,T as pt,c as an,P as on,B as xt}from"./index-CZ386Uyv.js";import{S as ln}from"./index-DTSHrXDL.js";import{s as $t}from"./index-Cv3JBoSq.js";import{P as kt}from"./index-D_Jq7_Ot.js";import"./Dropdown-BkR0riwv.js";import"./CloseOutlined-C3B3v_Kh.js";import"./EllipsisOutlined-CK11HSgJ.js";import"./ExclamationCircleFilled-DrSG7Lz4.js";import"./pickAttrs-BTWl6K21.js";import"./row-CN7xCyZB.js";import"./responsiveObserver-BnMIucoH.js";import"./index-BKkJNJXg.js";function tt(e,t,a){return(e-t)/(a-t)}function nt(e,t,a,n){var l=tt(t,a,n),s={};switch(e){case"rtl":s.right="".concat(l*100,"%"),s.transform="translateX(50%)";break;case"btt":s.bottom="".concat(l*100,"%"),s.transform="translateY(50%)";break;case"ttb":s.top="".concat(l*100,"%"),s.transform="translateY(-50%)";break;default:s.left="".concat(l*100,"%"),s.transform="translateX(-50%)";break}return s}function Ne(e,t){return Array.isArray(e)?e[t]:e}var _e=r.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),sn=r.createContext({}),cn=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Et=r.forwardRef(function(e,t){var a=e.prefixCls,n=e.value,l=e.valueIndex,s=e.onStartMove,v=e.onDelete,u=e.style,x=e.render,f=e.dragging,d=e.draggingDelete,C=e.onOffsetChange,S=e.onChangeComplete,m=e.onFocus,g=e.onMouseEnter,c=Dt(e,cn),i=r.useContext(_e),h=i.min,o=i.max,y=i.direction,M=i.disabled,P=i.keyboard,T=i.range,U=i.tabIndex,V=i.ariaLabelForHandle,D=i.ariaLabelledByForHandle,k=i.ariaRequired,p=i.ariaValueTextFormatterForHandle,E=i.styles,z=i.classNames,I="".concat(a,"-handle"),N=function(H){M||s(H,l)},Y=function(H){m==null||m(H,l)},O=function(H){g(H,l)},fe=function(H){if(!M&&P){var R=null;switch(H.which||H.keyCode){case X.LEFT:R=y==="ltr"||y==="btt"?-1:1;break;case X.RIGHT:R=y==="ltr"||y==="btt"?1:-1;break;case X.UP:R=y!=="ttb"?1:-1;break;case X.DOWN:R=y!=="ttb"?-1:1;break;case X.HOME:R="min";break;case X.END:R="max";break;case X.PAGE_UP:R=2;break;case X.PAGE_DOWN:R=-2;break;case X.BACKSPACE:case X.DELETE:v(l);break}R!==null&&(H.preventDefault(),C(R,l))}},Z=function(H){switch(H.which||H.keyCode){case X.LEFT:case X.RIGHT:case X.UP:case X.DOWN:case X.HOME:case X.END:case X.PAGE_UP:case X.PAGE_DOWN:S==null||S();break}},$e=nt(y,n,h,o),ue={};if(l!==null){var ye;ue={tabIndex:M?null:Ne(U,l),role:"slider","aria-valuemin":h,"aria-valuemax":o,"aria-valuenow":n,"aria-disabled":M,"aria-label":Ne(V,l),"aria-labelledby":Ne(D,l),"aria-required":Ne(k,l),"aria-valuetext":(ye=Ne(p,l))===null||ye===void 0?void 0:ye(n),"aria-orientation":y==="ltr"||y==="rtl"?"horizontal":"vertical",onMouseDown:N,onTouchStart:N,onFocus:Y,onMouseEnter:O,onKeyDown:fe,onKeyUp:Z}}var ae=r.createElement("div",et({ref:t,className:Fe(I,Ce(Ce(Ce({},"".concat(I,"-").concat(l+1),l!==null&&T),"".concat(I,"-dragging"),f),"".concat(I,"-dragging-delete"),d),z.handle),style:te(te(te({},$e),u),E.handle)},ue,c));return x&&(ae=x(ae,{index:l,prefixCls:a,value:n,dragging:f,draggingDelete:d})),ae}),un=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],dn=r.forwardRef(function(e,t){var a=e.prefixCls,n=e.style,l=e.onStartMove,s=e.onOffsetChange,v=e.values,u=e.handleRender,x=e.activeHandleRender,f=e.draggingIndex,d=e.draggingDelete,C=e.onFocus,S=Dt(e,un),m=r.useRef({}),g=r.useState(!1),c=oe(g,2),i=c[0],h=c[1],o=r.useState(-1),y=oe(o,2),M=y[0],P=y[1],T=function(p){P(p),h(!0)},U=function(p,E){T(E),C==null||C(p)},V=function(p,E){T(E)};r.useImperativeHandle(t,function(){return{focus:function(p){var E;(E=m.current[p])===null||E===void 0||E.focus()},hideHelp:function(){Ut.flushSync(function(){h(!1)})}}});var D=te({prefixCls:a,onStartMove:l,onOffsetChange:s,render:u,onFocus:U,onMouseEnter:V},S);return r.createElement(r.Fragment,null,v.map(function(k,p){var E=f===p;return r.createElement(Et,et({ref:function(I){I?m.current[p]=I:delete m.current[p]},dragging:E,draggingDelete:E&&d,style:Ne(n,p),key:p,value:k,valueIndex:p},D))}),x&&i&&r.createElement(Et,et({key:"a11y"},D,{value:v[M],valueIndex:null,dragging:f!==-1,draggingDelete:d,render:x,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),fn=function(t){var a=t.prefixCls,n=t.style,l=t.children,s=t.value,v=t.onClick,u=r.useContext(_e),x=u.min,f=u.max,d=u.direction,C=u.includedStart,S=u.includedEnd,m=u.included,g="".concat(a,"-text"),c=nt(d,s,x,f);return r.createElement("span",{className:Fe(g,Ce({},"".concat(g,"-active"),m&&C<=s&&s<=S)),style:te(te({},c),n),onMouseDown:function(h){h.stopPropagation()},onClick:function(){v(s)}},l)},gn=function(t){var a=t.prefixCls,n=t.marks,l=t.onClick,s="".concat(a,"-mark");return n.length?r.createElement("div",{className:s},n.map(function(v){var u=v.value,x=v.style,f=v.label;return r.createElement(fn,{key:u,prefixCls:s,style:x,value:u,onClick:l},f)})):null},vn=function(t){var a=t.prefixCls,n=t.value,l=t.style,s=t.activeStyle,v=r.useContext(_e),u=v.min,x=v.max,f=v.direction,d=v.included,C=v.includedStart,S=v.includedEnd,m="".concat(a,"-dot"),g=d&&C<=n&&n<=S,c=te(te({},nt(f,n,u,x)),typeof l=="function"?l(n):l);return g&&(c=te(te({},c),typeof s=="function"?s(n):s)),r.createElement("span",{className:Fe(m,Ce({},"".concat(m,"-active"),g)),style:c})},mn=function(t){var a=t.prefixCls,n=t.marks,l=t.dots,s=t.style,v=t.activeStyle,u=r.useContext(_e),x=u.min,f=u.max,d=u.step,C=r.useMemo(function(){var S=new Set;if(n.forEach(function(g){S.add(g.value)}),l&&d!==null)for(var m=x;m<=f;)S.add(m),m+=d;return Array.from(S)},[x,f,d,l,n]);return r.createElement("div",{className:"".concat(a,"-step")},C.map(function(S){return r.createElement(vn,{prefixCls:a,key:S,value:S,style:s,activeStyle:v})}))},Mt=function(t){var a=t.prefixCls,n=t.style,l=t.start,s=t.end,v=t.index,u=t.onStartMove,x=t.replaceCls,f=r.useContext(_e),d=f.direction,C=f.min,S=f.max,m=f.disabled,g=f.range,c=f.classNames,i="".concat(a,"-track"),h=tt(l,C,S),o=tt(s,C,S),y=function(U){!m&&u&&u(U,-1)},M={};switch(d){case"rtl":M.right="".concat(h*100,"%"),M.width="".concat(o*100-h*100,"%");break;case"btt":M.bottom="".concat(h*100,"%"),M.height="".concat(o*100-h*100,"%");break;case"ttb":M.top="".concat(h*100,"%"),M.height="".concat(o*100-h*100,"%");break;default:M.left="".concat(h*100,"%"),M.width="".concat(o*100-h*100,"%")}var P=x||Fe(i,Ce(Ce({},"".concat(i,"-").concat(v+1),v!==null&&g),"".concat(a,"-track-draggable"),u),c.track);return r.createElement("div",{className:P,style:te(te({},M),n),onMouseDown:y,onTouchStart:y})},hn=function(t){var a=t.prefixCls,n=t.style,l=t.values,s=t.startPoint,v=t.onStartMove,u=r.useContext(_e),x=u.included,f=u.range,d=u.min,C=u.styles,S=u.classNames,m=r.useMemo(function(){if(!f){if(l.length===0)return[];var c=s??d,i=l[0];return[{start:Math.min(c,i),end:Math.max(c,i)}]}for(var h=[],o=0;o<l.length-1;o+=1)h.push({start:l[o],end:l[o+1]});return h},[l,f,s,d]);if(!x)return null;var g=m!=null&&m.length&&(S.tracks||C.tracks)?r.createElement(Mt,{index:null,prefixCls:a,start:m[0].start,end:m[m.length-1].end,replaceCls:Fe(S.tracks,"".concat(a,"-tracks")),style:C.tracks}):null;return r.createElement(r.Fragment,null,g,m.map(function(c,i){var h=c.start,o=c.end;return r.createElement(Mt,{index:i,prefixCls:a,style:te(te({},Ne(n,i)),C.track),start:h,end:o,key:i,onStartMove:v})}))},bn=130;function Rt(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function Cn(e,t,a,n,l,s,v,u,x,f,d){var C=r.useState(null),S=oe(C,2),m=S[0],g=S[1],c=r.useState(-1),i=oe(c,2),h=i[0],o=i[1],y=r.useState(!1),M=oe(y,2),P=M[0],T=M[1],U=r.useState(a),V=oe(U,2),D=V[0],k=V[1],p=r.useState(a),E=oe(p,2),z=E[0],I=E[1],N=r.useRef(null),Y=r.useRef(null),O=r.useRef(null),fe=r.useContext(sn),Z=fe.onDragStart,$e=fe.onDragChange;Zt(function(){h===-1&&k(a)},[a,h]),r.useEffect(function(){return function(){document.removeEventListener("mousemove",N.current),document.removeEventListener("mouseup",Y.current),O.current&&(O.current.removeEventListener("touchmove",N.current),O.current.removeEventListener("touchend",Y.current))}},[]);var ue=function(R,_,L){_!==void 0&&g(_),k(R);var ne=R;L&&(ne=R.filter(function(q,Q){return Q!==h})),v(ne),$e&&$e({rawValues:R,deleteIndex:L?h:-1,draggingIndex:h,draggingValue:_})},ye=Ve(function(H,R,_){if(H===-1){var L=z[0],ne=z[z.length-1],q=n-L,Q=l-ne,le=R*(l-n);le=Math.max(le,q),le=Math.min(le,Q);var ke=s(L+le);le=ke-L;var ge=z.map(function(K){return K+le});ue(ge)}else{var ve=(l-n)*R,me=De(D);me[H]=z[H];var F=x(me,ve,H,"dist");ue(F.values,F.value,_)}}),ae=function(R,_,L){R.stopPropagation();var ne=L||a,q=ne[_];o(_),g(q),I(ne),k(ne),T(!1);var Q=Rt(R),le=Q.pageX,ke=Q.pageY,ge=!1;Z&&Z({rawValues:ne,draggingIndex:_,draggingValue:q});var ve=function(K){K.preventDefault();var J=Rt(K),Ee=J.pageX,de=J.pageY,je=Ee-le,ie=de-ke,se=e.current.getBoundingClientRect(),A=se.width,G=se.height,pe,he;switch(t){case"btt":pe=-ie/G,he=je;break;case"ttb":pe=ie/G,he=je;break;case"rtl":pe=-je/A,he=ie;break;default:pe=je/A,he=ie}ge=f?Math.abs(he)>bn&&d<D.length:!1,T(ge),ye(_,pe,ge)},me=function F(K){K.preventDefault(),document.removeEventListener("mouseup",F),document.removeEventListener("mousemove",ve),O.current&&(O.current.removeEventListener("touchmove",N.current),O.current.removeEventListener("touchend",Y.current)),N.current=null,Y.current=null,O.current=null,u(ge),o(-1),T(!1)};document.addEventListener("mouseup",me),document.addEventListener("mousemove",ve),R.currentTarget.addEventListener("touchend",me),R.currentTarget.addEventListener("touchmove",ve),N.current=ve,Y.current=me,O.current=R.currentTarget},Se=r.useMemo(function(){var H=De(a).sort(function(q,Q){return q-Q}),R=De(D).sort(function(q,Q){return q-Q}),_={};R.forEach(function(q){_[q]=(_[q]||0)+1}),H.forEach(function(q){_[q]=(_[q]||0)-1});var L=f?1:0,ne=Object.values(_).reduce(function(q,Q){return q+Math.abs(Q)},0);return ne<=L?D:a},[a,D,f]);return[h,m,P,Se,ae]}function yn(e,t,a,n,l,s){var v=r.useCallback(function(m){return Math.max(e,Math.min(t,m))},[e,t]),u=r.useCallback(function(m){if(a!==null){var g=e+Math.round((v(m)-e)/a)*a,c=function(y){return(String(y).split(".")[1]||"").length},i=Math.max(c(a),c(t),c(e)),h=Number(g.toFixed(i));return e<=h&&h<=t?h:null}return null},[a,e,t,v]),x=r.useCallback(function(m){var g=v(m),c=n.map(function(o){return o.value});a!==null&&c.push(u(m)),c.push(e,t);var i=c[0],h=t-e;return c.forEach(function(o){var y=Math.abs(g-o);y<=h&&(i=o,h=y)}),i},[e,t,n,a,v,u]),f=function m(g,c,i){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof c=="number"){var o,y=g[i],M=y+c,P=[];n.forEach(function(k){P.push(k.value)}),P.push(e,t),P.push(u(y));var T=c>0?1:-1;h==="unit"?P.push(u(y+T*a)):P.push(u(M)),P=P.filter(function(k){return k!==null}).filter(function(k){return c<0?k<=y:k>=y}),h==="unit"&&(P=P.filter(function(k){return k!==y}));var U=h==="unit"?y:M;o=P[0];var V=Math.abs(o-U);if(P.forEach(function(k){var p=Math.abs(k-U);p<V&&(o=k,V=p)}),o===void 0)return c<0?e:t;if(h==="dist")return o;if(Math.abs(c)>1){var D=De(g);return D[i]=o,m(D,c-T,i,h)}return o}else{if(c==="min")return e;if(c==="max")return t}},d=function(g,c,i){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",o=g[i],y=f(g,c,i,h);return{value:y,changed:y!==o}},C=function(g){return s===null&&g===0||typeof s=="number"&&g<s},S=function(g,c,i){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",o=g.map(x),y=o[i],M=f(o,c,i,h);if(o[i]=M,l===!1){var P=s||0;i>0&&o[i-1]!==y&&(o[i]=Math.max(o[i],o[i-1]+P)),i<o.length-1&&o[i+1]!==y&&(o[i]=Math.min(o[i],o[i+1]-P))}else if(typeof s=="number"||s===null){for(var T=i+1;T<o.length;T+=1)for(var U=!0;C(o[T]-o[T-1])&&U;){var V=d(o,1,T);o[T]=V.value,U=V.changed}for(var D=i;D>0;D-=1)for(var k=!0;C(o[D]-o[D-1])&&k;){var p=d(o,-1,D-1);o[D-1]=p.value,k=p.changed}for(var E=o.length-1;E>0;E-=1)for(var z=!0;C(o[E]-o[E-1])&&z;){var I=d(o,-1,E-1);o[E-1]=I.value,z=I.changed}for(var N=0;N<o.length-1;N+=1)for(var Y=!0;C(o[N+1]-o[N])&&Y;){var O=d(o,1,N+1);o[N+1]=O.value,Y=O.changed}}return{value:o[i],values:o}};return[x,S]}function Sn(e){return r.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,a=e.draggableTrack,n=e.minCount,l=e.maxCount;return[!0,t,!t&&a,n||0,l]},[e])}var pn=r.forwardRef(function(e,t){var a=e.prefixCls,n=a===void 0?"rc-slider":a,l=e.className,s=e.style,v=e.classNames,u=e.styles,x=e.id,f=e.disabled,d=f===void 0?!1:f,C=e.keyboard,S=C===void 0?!0:C,m=e.autoFocus,g=e.onFocus,c=e.onBlur,i=e.min,h=i===void 0?0:i,o=e.max,y=o===void 0?100:o,M=e.step,P=M===void 0?1:M,T=e.value,U=e.defaultValue,V=e.range,D=e.count,k=e.onChange,p=e.onBeforeChange,E=e.onAfterChange,z=e.onChangeComplete,I=e.allowCross,N=I===void 0?!0:I,Y=e.pushable,O=Y===void 0?!1:Y,fe=e.reverse,Z=e.vertical,$e=e.included,ue=$e===void 0?!0:$e,ye=e.startPoint,ae=e.trackStyle,Se=e.handleStyle,H=e.railStyle,R=e.dotStyle,_=e.activeDotStyle,L=e.marks,ne=e.dots,q=e.handleRender,Q=e.activeHandleRender,le=e.track,ke=e.tabIndex,ge=ke===void 0?0:ke,ve=e.ariaLabelForHandle,me=e.ariaLabelledByForHandle,F=e.ariaRequired,K=e.ariaValueTextFormatterForHandle,J=r.useRef(null),Ee=r.useRef(null),de=r.useMemo(function(){return Z?fe?"ttb":"btt":fe?"rtl":"ltr"},[fe,Z]),je=Sn(V),ie=oe(je,5),se=ie[0],A=ie[1],G=ie[2],pe=ie[3],he=ie[4],ee=r.useMemo(function(){return isFinite(h)?h:0},[h]),Me=r.useMemo(function(){return isFinite(y)?y:100},[y]),be=r.useMemo(function(){return P!==null&&P<=0?1:P},[P]),Ot=r.useMemo(function(){return typeof O=="boolean"?O?be:!1:O>=0?O:!1},[O,be]),Xe=r.useMemo(function(){return Object.keys(L||{}).map(function(w){var b=L[w],j={value:Number(w)};return b&&Qt(b)==="object"&&!r.isValidElement(b)&&("label"in b||"style"in b)?(j.style=b.style,j.label=b.label):j.label=b,j}).filter(function(w){var b=w.label;return b||typeof b=="number"}).sort(function(w,b){return w.value-b.value})},[L]),Ht=yn(ee,Me,be,Xe,N,Ot),rt=oe(Ht,2),Ue=rt[0],at=rt[1],Tt=Yt(U,{value:T}),ot=oe(Tt,2),Oe=ot[0],Bt=ot[1],re=r.useMemo(function(){var w=Oe==null?[]:Array.isArray(Oe)?Oe:[Oe],b=oe(w,1),j=b[0],B=j===void 0?ee:j,W=Oe===null?[]:[B];if(se){if(W=De(w),D||Oe===void 0){var He=D>=0?D+1:2;for(W=W.slice(0,He);W.length<He;){var Re;W.push((Re=W[W.length-1])!==null&&Re!==void 0?Re:ee)}}W.sort(function(Pe,we){return Pe-we})}return W.forEach(function(Pe,we){W[we]=Ue(Pe)}),W},[Oe,se,ee,D,Ue]),Le=function(b){return se?b:b[0]},Ye=Ve(function(w){var b=De(w).sort(function(j,B){return j-B});k&&!Jt(b,re,!0)&&k(Le(b)),Bt(b)}),lt=Ve(function(w){w&&J.current.hideHelp();var b=Le(re);E==null||E(b),St(!E,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),z==null||z(b)}),Ft=function(b){if(!(d||!A||re.length<=pe)){var j=De(re);j.splice(b,1),p==null||p(Le(j)),Ye(j);var B=Math.max(0,b-1);J.current.hideHelp(),J.current.focus(B)}},At=Cn(Ee,de,re,ee,Me,Ue,Ye,lt,at,A,pe),ze=oe(At,5),it=ze[0],Nt=ze[1],_t=ze[2],Ze=ze[3],st=ze[4],ct=function(b,j){if(!d){var B=De(re),W=0,He=0,Re=Me-ee;re.forEach(function(Te,Ke){var bt=Math.abs(b-Te);bt<=Re&&(Re=bt,W=Ke),Te<b&&(He=Ke)});var Pe=W;A&&Re!==0&&(!he||re.length<he)?(B.splice(He+1,0,b),Pe=He+1):B[W]=b,se&&!re.length&&D===void 0&&B.push(b);var we=Le(B);if(p==null||p(we),Ye(B),j){var Ae,qe;(Ae=document.activeElement)===null||Ae===void 0||(qe=Ae.blur)===null||qe===void 0||qe.call(Ae),J.current.focus(Pe),st(j,Pe,B)}else E==null||E(we),St(!E,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),z==null||z(we)}},Lt=function(b){b.preventDefault();var j=Ee.current.getBoundingClientRect(),B=j.width,W=j.height,He=j.left,Re=j.top,Pe=j.bottom,we=j.right,Ae=b.clientX,qe=b.clientY,Te;switch(de){case"btt":Te=(Pe-qe)/W;break;case"ttb":Te=(qe-Re)/W;break;case"rtl":Te=(we-Ae)/B;break;default:Te=(Ae-He)/B}var Ke=ee+Te*(Me-ee);ct(Ue(Ke),b)},qt=r.useState(null),ut=oe(qt,2),Qe=ut[0],dt=ut[1],zt=function(b,j){if(!d){var B=at(re,b,j);p==null||p(Le(re)),Ye(B.values),dt(B.value)}};r.useEffect(function(){if(Qe!==null){var w=re.indexOf(Qe);w>=0&&J.current.focus(w)}dt(null)},[Qe]);var It=r.useMemo(function(){return G&&be===null?!1:G},[G,be]),ft=Ve(function(w,b){st(w,b),p==null||p(Le(re))}),gt=it!==-1;r.useEffect(function(){if(!gt){var w=re.lastIndexOf(Nt);J.current.focus(w)}},[gt]);var Ie=r.useMemo(function(){return De(Ze).sort(function(w,b){return w-b})},[Ze]),Wt=r.useMemo(function(){return se?[Ie[0],Ie[Ie.length-1]]:[ee,Ie[0]]},[Ie,se,ee]),vt=oe(Wt,2),mt=vt[0],ht=vt[1];r.useImperativeHandle(t,function(){return{focus:function(){J.current.focus(0)},blur:function(){var b,j=document,B=j.activeElement;(b=Ee.current)!==null&&b!==void 0&&b.contains(B)&&(B==null||B.blur())}}}),r.useEffect(function(){m&&J.current.focus(0)},[]);var Xt=r.useMemo(function(){return{min:ee,max:Me,direction:de,disabled:d,keyboard:S,step:be,included:ue,includedStart:mt,includedEnd:ht,range:se,tabIndex:ge,ariaLabelForHandle:ve,ariaLabelledByForHandle:me,ariaRequired:F,ariaValueTextFormatterForHandle:K,styles:u||{},classNames:v||{}}},[ee,Me,de,d,S,be,ue,mt,ht,se,ge,ve,me,F,K,u,v]);return r.createElement(_e.Provider,{value:Xt},r.createElement("div",{ref:Ee,className:Fe(n,l,Ce(Ce(Ce(Ce({},"".concat(n,"-disabled"),d),"".concat(n,"-vertical"),Z),"".concat(n,"-horizontal"),!Z),"".concat(n,"-with-marks"),Xe.length)),style:s,onMouseDown:Lt,id:x},r.createElement("div",{className:Fe("".concat(n,"-rail"),v==null?void 0:v.rail),style:te(te({},H),u==null?void 0:u.rail)}),le!==!1&&r.createElement(hn,{prefixCls:n,style:ae,values:re,startPoint:ye,onStartMove:It?ft:void 0}),r.createElement(mn,{prefixCls:n,marks:Xe,dots:ne,style:R,activeStyle:_}),r.createElement(dn,{ref:J,prefixCls:n,style:Se,values:Ze,draggingIndex:it,draggingDelete:_t,onStartMove:ft,onOffsetChange:zt,onFocus:g,onBlur:c,handleRender:q,activeHandleRender:Q,onChangeComplete:lt,onDelete:A?Ft:void 0}),r.createElement(gn,{prefixCls:n,marks:Xe,onClick:ct})))});const Pt=r.forwardRef((e,t)=>{const{open:a,draggingDelete:n}=e,l=r.useRef(null),s=a&&!n,v=r.useRef(null);function u(){We.cancel(v.current),v.current=null}function x(){v.current=We(()=>{var f;(f=l.current)===null||f===void 0||f.forceAlign(),v.current=null})}return r.useEffect(()=>(s?x():u(),u),[s,e.title]),r.createElement(Kt,Object.assign({ref:en(l,t)},e,{open:s}))}),xn=e=>{const{componentCls:t,antCls:a,controlSize:n,dotSize:l,marginFull:s,marginPart:v,colorFillContentHover:u,handleColorDisabled:x,calc:f,handleSize:d,handleSizeHover:C,handleActiveColor:S,handleActiveOutlineColor:m,handleLineWidth:g,handleLineWidthHover:c,motionDurationMid:i}=e;return{[t]:Object.assign(Object.assign({},rn(e)),{position:"relative",height:n,margin:`${ce(v)} ${ce(s)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${ce(s)} ${ce(v)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${i}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${i}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:u},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${ce(g)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:d,height:d,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:f(g).mul(-1).equal(),insetBlockStart:f(g).mul(-1).equal(),width:f(d).add(f(g).mul(2)).equal(),height:f(d).add(f(g).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:d,height:d,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${ce(g)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${i},
            inset-block-start ${i},
            width ${i},
            height ${i},
            box-shadow ${i},
            outline ${i}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:f(C).sub(d).div(2).add(c).mul(-1).equal(),insetBlockStart:f(C).sub(d).div(2).add(c).mul(-1).equal(),width:f(C).add(f(c).mul(2)).equal(),height:f(C).add(f(c).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${ce(c)} ${S}`,outline:`6px solid ${m}`,width:C,height:C,insetInlineStart:e.calc(d).sub(C).div(2).equal(),insetBlockStart:e.calc(d).sub(C).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:l,height:l,backgroundColor:e.colorBgElevated,border:`${ce(g)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:d,height:d,boxShadow:`0 0 0 ${ce(g)} ${x}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${a}-tooltip-inner`]:{minWidth:"unset"}})}},jt=(e,t)=>{const{componentCls:a,railSize:n,handleSize:l,dotSize:s,marginFull:v,calc:u}=e,x=t?"paddingBlock":"paddingInline",f=t?"width":"height",d=t?"height":"width",C=t?"insetBlockStart":"insetInlineStart",S=t?"top":"insetInlineStart",m=u(n).mul(3).sub(l).div(2).equal(),g=u(l).sub(n).div(2).equal(),c=t?{borderWidth:`${ce(g)} 0`,transform:`translateY(${ce(u(g).mul(-1).equal())})`}:{borderWidth:`0 ${ce(g)}`,transform:`translateX(${ce(e.calc(g).mul(-1).equal())})`};return{[x]:n,[d]:u(n).mul(3).equal(),[`${a}-rail`]:{[f]:"100%",[d]:n},[`${a}-track,${a}-tracks`]:{[d]:n},[`${a}-track-draggable`]:Object.assign({},c),[`${a}-handle`]:{[C]:m},[`${a}-mark`]:{insetInlineStart:0,top:0,[S]:u(n).mul(3).add(t?0:v).equal(),[f]:"100%"},[`${a}-step`]:{insetInlineStart:0,top:0,[S]:n,[f]:"100%",[d]:n},[`${a}-dot`]:{position:"absolute",[C]:u(n).sub(s).div(2).equal()}}},$n=e=>{const{componentCls:t,marginPartWithMark:a}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},jt(e,!0)),{[`&${t}-with-marks`]:{marginBottom:a}})}},kn=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},jt(e,!1)),{height:"100%"})}},En=e=>{const a=e.controlHeightLG/4,n=e.controlHeightSM/2,l=e.lineWidth+1,s=e.lineWidth+1*1.5,v=e.colorPrimary,u=new pt(v).setAlpha(.2).toRgbString();return{controlSize:a,railSize:4,handleSize:a,handleSizeHover:n,dotSize:8,handleLineWidth:l,handleLineWidthHover:s,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:v,handleActiveOutlineColor:u,handleColorDisabled:new pt(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexShortString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},Mn=tn("Slider",e=>{const t=nn(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[xn(t),$n(t),kn(t)]},En),Rn=r.createContext({});function Je(){const[e,t]=r.useState(!1),a=r.useRef(),n=()=>{We.cancel(a.current)},l=s=>{n(),s?t(s):a.current=We(()=>{t(s)})};return r.useEffect(()=>n,[]),[e,l]}var Pn=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]]);return a};function wn(e,t){return e||e===null?e:t||t===null?t:a=>typeof a=="number"?a.toString():""}const Ge=xe.forwardRef((e,t)=>{const{prefixCls:a,range:n,className:l,rootClassName:s,style:v,disabled:u,tooltipPrefixCls:x,tipFormatter:f,tooltipVisible:d,getTooltipPopupContainer:C,tooltipPlacement:S,tooltip:m={},onChangeComplete:g}=e,c=Pn(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete"]),{vertical:i}=e,{direction:h,slider:o,getPrefixCls:y,getPopupContainer:M}=xe.useContext(an),P=xe.useContext(on),T=u??P,{handleRender:U,direction:V}=xe.useContext(Rn),k=(V||h)==="rtl",[p,E]=Je(),[z,I]=Je(),N=Object.assign({},m),{open:Y,placement:O,getPopupContainer:fe,prefixCls:Z,formatter:$e}=N,ue=Y??d,ye=(p||z)&&ue!==!1,ae=wn($e,f),[Se,H]=Je(),R=F=>{g==null||g(F),H(!1)},_=(F,K)=>F||(K?k?"left":"right":"top"),L=y("slider",a),[ne,q,Q]=Mn(L),le=Fe(l,o==null?void 0:o.className,s,{[`${L}-rtl`]:k,[`${L}-lock`]:Se},q,Q);k&&!c.vertical&&(c.reverse=!c.reverse),xe.useEffect(()=>{const F=()=>{We(()=>{I(!1)},1)};return document.addEventListener("mouseup",F),()=>{document.removeEventListener("mouseup",F)}},[]);const ke=n&&!ue,ge=U||((F,K)=>{const{index:J}=K,Ee=F.props;function de(A,G,pe){var he,ee,Me,be;pe&&((ee=(he=c)[A])===null||ee===void 0||ee.call(he,G)),(be=(Me=Ee)[A])===null||be===void 0||be.call(Me,G)}const je=Object.assign(Object.assign({},Ee),{onMouseEnter:A=>{E(!0),de("onMouseEnter",A)},onMouseLeave:A=>{E(!1),de("onMouseLeave",A)},onMouseDown:A=>{I(!0),H(!0),de("onMouseDown",A)},onFocus:A=>{var G;I(!0),(G=c.onFocus)===null||G===void 0||G.call(c,A),de("onFocus",A,!0)},onBlur:A=>{var G;I(!1),(G=c.onBlur)===null||G===void 0||G.call(c,A),de("onBlur",A,!0)}}),ie=xe.cloneElement(F,je),se=(!!ue||ye)&&ae!==null;return ke?ie:xe.createElement(Pt,Object.assign({},N,{prefixCls:y("tooltip",Z??x),title:ae?ae(K.value):"",open:se,placement:_(O??S,i),key:J,overlayClassName:`${L}-tooltip`,getPopupContainer:fe||C||M}),ie)}),ve=ke?(F,K)=>{const J=xe.cloneElement(F,{style:Object.assign(Object.assign({},F.props.style),{visibility:"hidden"})});return xe.createElement(Pt,Object.assign({},N,{prefixCls:y("tooltip",Z??x),title:ae?ae(K.value):"",open:ae!==null&&ye,placement:_(O??S,i),key:"tooltip",overlayClassName:`${L}-tooltip`,getPopupContainer:fe||C||M,draggingDelete:K.draggingDelete}),J)}:void 0,me=Object.assign(Object.assign({},o==null?void 0:o.style),v);return ne(xe.createElement(pn,Object.assign({},c,{step:c.step,range:n,className:le,style:me,disabled:T,ref:t,prefixCls:L,handleRender:ge,activeHandleRender:ve,onChangeComplete:R})))}),{Title:wt,Text:Be}=Gt;function Un(){const{menuId:e}=Vt(),[t,a]=r.useState("1.0"),[n,l]=r.useState("0,0,0"),{data:s,isLoading:v}=Ct.menuItem.findFirst.useQuery({where:{id:e},include:{restaurant:!0}}),{mutateAsync:u}=Ct.menuItem.update.useMutation(),x=async()=>{try{await u({where:{id:e},data:{arScale:t,arPosition:n}}),$t.success("AR settings saved successfully")}catch{$t.error("Failed to save AR settings")}},f=(d,C)=>{const[S,m,g]=n.split(",").map(Number);let c;switch(d){case"x":c=`${C},${m},${g}`;break;case"y":c=`${S},${C},${g}`;break;case"z":c=`${S},${m},${C}`;break;default:return}l(c)};return v?$.jsx(kt,{layout:"full-width",children:$.jsx("div",{style:{textAlign:"center",padding:"2rem"},children:$.jsx("i",{className:"las la-spinner la-spin la-3x"})})}):$.jsx(kt,{layout:"full-width",children:$.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem"},children:[$.jsxs(wt,{level:2,children:[$.jsx("i",{className:"las la-cube"})," AR Preview"]}),$.jsx(Be,{type:"secondary",children:"Preview and adjust how your menu item will appear in AR before publishing"}),$.jsxs("div",{style:{display:"flex",gap:"2rem",marginTop:"2rem"},children:[$.jsxs(yt,{style:{flex:2},children:[$.jsx("div",{style:{aspectRatio:"16/9",backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1rem"},children:s!=null&&s.arModelUrl?$.jsx("model-viewer",{src:s.arModelUrl,ar:!0,"ar-modes":"webxr scene-viewer quick-look","camera-controls":!0,style:{width:"100%",height:"100%"}}):$.jsxs(Be,{type:"secondary",children:[$.jsx("i",{className:"las la-cube la-3x"}),$.jsx("br",{}),"No AR model available"]})}),$.jsx(wt,{level:4,children:s==null?void 0:s.name}),$.jsx(Be,{children:s==null?void 0:s.description})]}),$.jsxs(yt,{style:{flex:1},title:"AR Controls",children:[$.jsxs("div",{style:{marginBottom:"2rem"},children:[$.jsx(Be,{strong:!0,children:"Scale"}),$.jsx(Ge,{min:.1,max:2,step:.1,value:parseFloat(t),onChange:d=>a(d.toString())})]}),$.jsxs("div",{style:{marginBottom:"2rem"},children:[$.jsx(Be,{strong:!0,children:"Position"}),$.jsxs("div",{style:{marginTop:"1rem"},children:[$.jsx(Be,{children:"X Axis"}),$.jsx(Ge,{min:-5,max:5,step:.1,value:parseFloat(n.split(",")[0]),onChange:d=>f("x",d)}),$.jsx(Be,{children:"Y Axis"}),$.jsx(Ge,{min:-5,max:5,step:.1,value:parseFloat(n.split(",")[1]),onChange:d=>f("y",d)}),$.jsx(Be,{children:"Z Axis"}),$.jsx(Ge,{min:-5,max:5,step:.1,value:parseFloat(n.split(",")[2]),onChange:d=>f("z",d)})]})]}),$.jsxs(ln,{direction:"vertical",style:{width:"100%"},children:[$.jsx(xt,{type:"primary",block:!0,onClick:x,icon:$.jsx("i",{className:"las la-save"}),children:"Save Changes"}),$.jsx(xt,{block:!0,icon:$.jsx("i",{className:"las la-eye"}),children:"Test AR View"})]})]})]})]})})}export{Un as default};
