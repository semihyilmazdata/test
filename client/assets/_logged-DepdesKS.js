import{r as u,j as t}from"./index-DF-VfARk.js";import{u as k}from"./useUserContext-BfcVo3vY.js";import{u as L,T as x,M as ae}from"./provider-BBy-jZvY.js";import{g as ie,r as ce,h as W,m as de,T as ue,c as _,e as N,z as U,A as me,l as pe,W as fe,F as p}from"./index-CZ386Uyv.js";import{M as $}from"./index-B5xBNH_Q.js";import{U as q}from"./index-BzoxnAcz.js";import{L as K}from"./index-DkfDQLHp.js";import{a as T,b as ge,u as be,O as he}from"./index-DkUROBfk.js";import{A as X}from"./index-DixPxxsU.js";import{k as Ce,l as ye,m as xe}from"./index-Pi5MhuwB.js";import{u as je,p as D}from"./useClosable-fLW7Wogt.js";import{R as Y}from"./MenuOutlined-B7WPmDvk.js";import"./index-B-WGvFr7.js";import"./ExclamationCircleFilled-DrSG7Lz4.js";import"./Sider-G10ASfwf.js";import"./index-BKkJNJXg.js";import"./index-Cv3JBoSq.js";import"./pickAttrs-BTWl6K21.js";import"./CloseOutlined-C3B3v_Kh.js";import"./EllipsisOutlined-CK11HSgJ.js";import"./collapse-BbEVqHco.js";import"./responsiveObserver-BnMIucoH.js";import"./useBreakpoint-DbOrmpLl.js";const Se=e=>{const{paddingXXS:r,lineWidth:s,tagPaddingHorizontal:o,componentCls:n,calc:i}=e,l=i(o).sub(s).equal(),c=i(r).sub(s).equal();return{[n]:Object.assign(Object.assign({},ce(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:l,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${W(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${n}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${n}-close-icon`]:{marginInlineStart:c,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${n}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${n}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:l}}),[`${n}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},z=e=>{const{lineWidth:r,fontSizeIcon:s,calc:o}=e,n=e.fontSizeSM;return de(e,{tagFontSize:n,tagLineHeight:W(o(e.lineHeightSM).mul(n).equal()),tagIconSize:o(s).sub(o(r).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},P=e=>({defaultBg:new ue(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),Q=ie("Tag",e=>{const r=z(e);return Se(r)},P);var ve=function(e,r){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(s[o[n]]=e[o[n]]);return s};const $e=u.forwardRef((e,r)=>{const{prefixCls:s,style:o,className:n,checked:i,onChange:l,onClick:c}=e,d=ve(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:m,tag:b}=u.useContext(_),f=S=>{l==null||l(!i),c==null||c(S)},a=m("tag",s),[j,I,h]=Q(a),O=N(a,`${a}-checkable`,{[`${a}-checkable-checked`]:i},b==null?void 0:b.className,n,I,h);return j(u.createElement("span",Object.assign({},d,{ref:r,style:Object.assign(Object.assign({},o),b==null?void 0:b.style),className:O,onClick:f})))}),Te=e=>Ce(e,(r,s)=>{let{textColor:o,lightBorderColor:n,lightColor:i,darkColor:l}=s;return{[`${e.componentCls}${e.componentCls}-${r}`]:{color:o,background:i,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:l,borderColor:l},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Ie=U(["Tag","preset"],e=>{const r=z(e);return Te(r)},P);function Oe(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const v=(e,r,s)=>{const o=Oe(s);return{[`${e.componentCls}${e.componentCls}-${r}`]:{color:e[`color${s}`],background:e[`color${o}Bg`],borderColor:e[`color${o}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}},we=U(["Tag","status"],e=>{const r=z(e);return[v(r,"success","Success"),v(r,"processing","Info"),v(r,"error","Error"),v(r,"warning","Warning")]},P);var Be=function(e,r){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(s[o[n]]=e[o[n]]);return s};const Ne=u.forwardRef((e,r)=>{const{prefixCls:s,className:o,rootClassName:n,style:i,children:l,icon:c,color:d,onClose:m,bordered:b=!0,visible:f}=e,a=Be(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:j,direction:I,tag:h}=u.useContext(_),[O,S]=u.useState(!0),G=me(a,["closeIcon","closable"]);u.useEffect(()=>{f!==void 0&&S(f)},[f]);const M=ye(d),F=xe(d),w=M||F,J=Object.assign(Object.assign({backgroundColor:d&&!w?d:void 0},h==null?void 0:h.style),i),g=j("tag",s),[Z,ee,oe]=Q(g),te=N(g,h==null?void 0:h.className,{[`${g}-${d}`]:w,[`${g}-has-color`]:d&&!w,[`${g}-hidden`]:!O,[`${g}-rtl`]:I==="rtl",[`${g}-borderless`]:!b},o,n,ee,oe),R=y=>{y.stopPropagation(),m==null||m(y),!y.defaultPrevented&&S(!1)},[,re]=je(D(e),D(h),{closable:!1,closeIconRender:y=>{const le=u.createElement("span",{className:`${g}-close-icon`,onClick:R},y);return pe(y,le,C=>({onClick:V=>{var B;(B=C==null?void 0:C.onClick)===null||B===void 0||B.call(C,V),R(V)},className:N(C==null?void 0:C.className,`${g}-close-icon`)}))}}),ne=typeof a.onClick=="function"||l&&l.type==="a",H=c||null,se=H?u.createElement(u.Fragment,null,H,l&&u.createElement("span",null,l)):l,A=u.createElement("span",Object.assign({},G,{ref:r,className:te,style:J}),se,re,M&&u.createElement(Ie,{key:"preset",prefixCls:g}),F&&u.createElement(we,{key:"status",prefixCls:g}));return Z(ne?u.createElement(fe,{component:"Tag"},A):A)}),E=Ne;E.CheckableTag=$e;const ke=({keySelected:e,items:r,itemsBottom:s})=>{var n,i,l,c;const{isMobile:o}=L();return o||r.length===0?t.jsx(t.Fragment,{}):t.jsxs(p,{vertical:!0,justify:"space-between",className:"py-4",style:{width:"250px",backgroundColor:(i=(n=x.components)==null?void 0:n.Layout)==null?void 0:i.siderBg,borderRight:(c=(l=x.components)==null?void 0:l.Layout)==null?void 0:c.siderBorderRight},children:[t.jsx($,{mode:"inline",inlineIndent:16,items:r,selectedKeys:[e],style:{width:"100%"}}),t.jsx($,{mode:"inline",inlineIndent:16,items:s,selectedKeys:[e],style:{width:"100%"}})]})},Le=({keySelected:e,items:r})=>{var l,c,d,m;const s=T(),{user:o,checkRole:n}=k(),{isMobile:i}=L();return i?t.jsx(t.Fragment,{children:t.jsxs(p,{align:"center",justify:"space-between",className:"px-2",style:{position:"relative",backgroundColor:(c=(l=x.components)==null?void 0:l.Layout)==null?void 0:c.headerBg,borderBottom:(m=(d=x.components)==null?void 0:d.Layout)==null?void 0:m.headerBorderBottom},children:[t.jsxs(p,{align:"center",children:[o&&t.jsx(p,{children:t.jsx(X,{src:o.pictureUrl,alt:o.name,size:"small",onClick:()=>s("/profile"),style:{cursor:"pointer"},children:q.stringToInitials(o.name)})}),t.jsx(p,{align:"center",justify:"center",style:{position:"absolute",left:0,right:0,top:0,bottom:0},children:t.jsx(K,{height:40})})]}),t.jsxs(p,{align:"center",children:[n("ADMIN")&&t.jsx(E,{color:"red",bordered:!1,children:"Admin"}),t.jsx($,{mode:"horizontal",items:r,selectedKeys:[e],style:{width:46},overflowedIndicator:t.jsx(Y,{})})]})]})}):t.jsx(t.Fragment,{})},ze=({keySelected:e,items:r})=>{var l,c,d,m;const s=T(),{user:o,checkRole:n}=k(),{isMobile:i}=L();return i?t.jsx(t.Fragment,{}):t.jsx(t.Fragment,{children:t.jsxs(p,{align:"center",className:"px-4 py-2",style:{backgroundColor:(c=(l=x.components)==null?void 0:l.Layout)==null?void 0:c.headerBg,borderBottom:(m=(d=x.components)==null?void 0:d.Layout)==null?void 0:m.headerBorderBottom},children:[t.jsx(p,{children:t.jsx(K,{height:40})}),t.jsx(p,{vertical:!0,flex:1,style:{overflowX:"hidden"},children:t.jsx($,{mode:"horizontal",items:r,selectedKeys:[e],overflowedIndicator:t.jsx(Y,{}),style:{flex:1}})}),t.jsxs(p,{align:"center",gap:"middle",children:[n("ADMIN")&&t.jsx(E,{color:"red",bordered:!1,children:"Admin"}),o&&t.jsx(X,{src:o.pictureUrl,alt:o.name,size:"default",onClick:()=>s("/profile"),style:{cursor:"pointer"},children:q.stringToInitials(o.name)})]})]})})},Pe=({children:e})=>{const r=T(),s=ge().pathname,o=be(),n=a=>{r(a)},l=[{key:"/home",label:"Home",position:"leftbar",onClick:()=>n("/home")},{key:"/restaurant/dashboard",label:"Restaurant Dashboard",position:"leftbar",onClick:()=>n("/restaurant/dashboard")},{key:"/restaurant/menu-items",label:"Menu Items",position:"leftbar",onClick:()=>n("/restaurant/menu-items")}].filter(a=>a.isVisible!==!1).map(a=>({key:a.key,label:a.label,icon:a.icon,position:a.position,onClick:a.onClick})),c=l.filter(a=>a.position==="topbar"),d=l.filter(a=>a.position==="leftbar"),m=l.filter(a=>a.position==="leftbar-bottom"),b=l;let f=s;return Object.entries(o).forEach(([a,j])=>{f=f.replace(`/${j}`,`/:${a}`)}),t.jsxs(t.Fragment,{children:[t.jsx(ze,{keySelected:f,items:c}),t.jsx(Le,{keySelected:f,items:b}),t.jsxs(p,{flex:1,style:{overflowY:"hidden"},children:[t.jsx(ke,{keySelected:f,items:d,itemsBottom:m}),t.jsx(p,{flex:1,vertical:!0,style:{overflowY:"hidden"},children:e})]})]})};function no(){const{isLoggedIn:e,isLoading:r}=k(),s=T();if(u.useEffect(()=>{!r&&!e&&s("/login")},[r,e]),r)return t.jsx(ae,{});if(e)return t.jsx(Pe,{children:t.jsx(he,{})})}export{no as default};
